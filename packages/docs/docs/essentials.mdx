---
sidebar_position: 3
title: Essentials
---

import CodePreview from '@site/src/components/CodePreview';
import VizMount from '@site/src/components/VizMount';
import { viz } from 'vizcraft';

export const gridBuilder = viz().view(500, 300);
export const gridScene = gridBuilder
  .grid(5, 3, { x: 20, y: 20 })
  .node('n1')
  .cell(0, 0)
  .label('0,0')
  .rect(60, 40)
  .node('n2')
  .cell(2, 1)
  .label('2,1')
  .circle(30)
  .node('n3')
  .cell(4, 2)
  .label('4,2')
  .diamond(60, 60)
  .done();

export const edgesBuilder = viz().view(500, 200);
export const edgesScene = edgesBuilder
  .node('A')
  .at(50, 100)
  .circle(26)
  .label('Start')
  .node('B')
  .at(450, 100)
  .rect(80, 40)
  .label('End')
  .edge('A', 'B')
  .arrow()
  .label('Connects to')
  .done();

export const shapesScene = viz()
  .view(600, 300)
  .node('circ')
  .at(60, 80)
  .circle(30)
  .fill('#89b4fa')
  .label('circle')
  .node('rec')
  .at(180, 80)
  .rect(80, 50, 8)
  .fill('#a6e3a1')
  .label('rect')
  .node('dia')
  .at(310, 80)
  .diamond(70, 70)
  .fill('#f9e2af')
  .label('diamond')
  .node('cyl')
  .at(450, 80)
  .cylinder(80, 60)
  .fill('#fab387')
  .label('cylinder')
  .node('hex')
  .at(120, 220)
  .hexagon(40)
  .fill('#cba6f7')
  .label('hexagon')
  .node('hexf')
  .at(260, 220)
  .hexagon(40, 'flat')
  .fill('#f5c2e7')
  .label('hex (flat)')
  .node('ell')
  .at(430, 220)
  .ellipse(65, 35)
  .fill('#89dceb')
  .label('ellipse')
  .done();

Learn the basics of creating scenes with VizCraft.

## The Builder API

VizCraft uses a fluent builder pattern to construct your scene. The entry point is the \`viz()\` function.

```typescript
import { viz } from 'vizcraft';

const builder = viz().view(800, 600); // Set viewBox
builder.node('a').at(100, 100).circle(24).done(); // Add a node
const scene = builder.build(); // Finalize scene
```

### View & Grid

You can define the canvas size with \`.view(w, h)\` and optionally set up a grid for easy positioning.

<CodePreview code={`
import { viz } from 'vizcraft';

const builder = viz().view(500, 300);

builder
.grid(5, 3, { x: 20, y: 20 }) // 5 cols, 3 rows, 20px padding
.node('n1').cell(0, 0).label('0,0').rect(60, 40)
.node('n2').cell(2, 1).label('2,1').circle(30)
.node('n3').cell(4, 2).label('4,2').diamond(60, 60).done();

const container = document.getElementById('viz-grid');
if (container) builder.mount(container);
`}>

  <VizMount
    builder={gridScene}
    style={{ height: '300px', width: '100%', border: '1px solid #ccc' }}
  />
</CodePreview>

## Nodes

Nodes are the primary entities in your graph. You can create them with \`.node(id)\`.

### Shapes

VizCraft supports six built-in shapes:

- `.circle(r)` — circle with radius `r`
- `.rect(w, h, [rx])` — rectangle with optional corner radius
- `.diamond(w, h)` — diamond / rhombus
- `.cylinder(w, h, [arcHeight])` — cylinder (the standard database / data-store symbol). `arcHeight` controls the top ellipse arc height (defaults to ~15 % of `h`)
- `.hexagon(r, [orientation])` — regular hexagon with outer radius `r`. `orientation` is `'pointy'` (default, vertex at top) or `'flat'` (flat edge at top)
- `.ellipse(rx, ry)` — ellipse / oval with independent horizontal and vertical radii

<CodePreview code={`
import { viz } from 'vizcraft';

const builder = viz().view(600, 300);

builder
.node('circ').at(60, 80).circle(30).fill('#89b4fa').label('circle')
.node('rec').at(180, 80).rect(80, 50, 8).fill('#a6e3a1').label('rect')
.node('dia').at(310, 80).diamond(70, 70).fill('#f9e2af').label('diamond')
.node('cyl').at(450, 80).cylinder(80, 60).fill('#fab387').label('cylinder')
.node('hex').at(120, 220).hexagon(40).fill('#cba6f7').label('hexagon')
.node('hexf').at(260, 220).hexagon(40, 'flat').fill('#f5c2e7').label('hex (flat)')
.node('ell').at(430, 220).ellipse(65, 35).fill('#89dceb').label('ellipse')
.done();

const container = document.getElementById('viz-shapes');
if (container) builder.mount(container);
`}>

  <VizMount
    builder={shapesScene}
    style={{ height: '300px', width: '100%', border: '1px solid #ccc' }}
  />
</CodePreview>

### Positioning

- \`.at(x, y)\`: Absolute positioning.
- \`.cell(col, row, [align])\` Grid-based positioning (requires \`.grid()\`).

## Edges

Edges connect two nodes using \`.edge(fromId, toId)\`.
By default, edges stop at the node boundary. Use \`.connect('center')\` to draw center-to-center.

<CodePreview code={`
import { viz } from 'vizcraft';

const builder = viz().view(500, 200);

builder
.node('A')
.at(50, 100)
.circle(26)
.label('Start')
.node('B')
.at(450, 100)
.rect(80, 40)
.label('End')
.edge('A', 'B')
.arrow()
.label('Connects to')
.done();

const container = document.getElementById('viz-edges');
if (container) builder.mount(container);
`}>

  <VizMount builder={edgesScene} style={{ height: '200px', width: '100%' }} />
</CodePreview>

## Animations

For a full breakdown (registry/CSS animations, data-only timelines, playback controls, and live examples), see the dedicated guide:

- [Animations](./animations)

---
sidebar_position: 3
title: Essentials
---

import CodePreview from '@site/src/components/CodePreview';
import VizMount from '@site/src/components/VizMount';
import { viz } from 'vizcraft';

export const gridBuilder = viz().view(500, 300);
export const gridScene = gridBuilder
  .grid(5, 3, { x: 20, y: 20 })
  .node('n1')
  .cell(0, 0)
  .label('0,0')
  .rect(60, 40)
  .node('n2')
  .cell(2, 1)
  .label('2,1')
  .circle(30)
  .node('n3')
  .cell(4, 2)
  .label('4,2')
  .diamond(60, 60)
  .done();

export const edgesBuilder = viz().view(500, 200);
export const edgesScene = edgesBuilder
  .node('A')
  .at(50, 100)
  .circle(26)
  .label('Start')
  .node('B')
  .at(450, 100)
  .rect(80, 40)
  .label('End')
  .edge('A', 'B')
  .arrow()
  .label('Connects to')
  .done();

export const shapesScene = viz()
  .view(700, 760)
  .node('circ')
  .at(60, 80)
  .circle(30)
  .fill('#89b4fa')
  .label('circle')
  .node('rec')
  .at(180, 80)
  .rect(80, 50, 8)
  .fill('#a6e3a1')
  .label('rect')
  .node('dia')
  .at(310, 80)
  .diamond(70, 70)
  .fill('#f9e2af')
  .label('diamond')
  .node('cyl')
  .at(450, 80)
  .cylinder(80, 60)
  .fill('#fab387')
  .label('cylinder')
  .node('hex')
  .at(100, 210)
  .hexagon(40)
  .fill('#cba6f7')
  .label('hexagon')
  .node('hexf')
  .at(240, 210)
  .hexagon(40, 'flat')
  .fill('#f5c2e7')
  .label('hex (flat)')
  .node('ell')
  .at(410, 210)
  .ellipse(65, 35)
  .fill('#89dceb')
  .label('ellipse')
  .node('pie')
  .at(140, 330)
  .arc(40, 180, 360)
  .fill('#f38ba8')
  .label('arc (half)', { dy: 50 })
  .node('quarter')
  .at(320, 330)
  .arc(40, 0, 90)
  .fill('#fab387')
  .label('arc (quarter)', { dy: 50 })
  .node('open')
  .at(510, 330)
  .arc(40, 45, 315, false)
  .fill('none')
  .stroke('#a6e3a1', 3)
  .label('arc (open)', { dy: 50 })
  .node('ba')
  .at(590, 210)
  .blockArrow(90, 20, 40, 25)
  .fill('#94e2d5')
  .label('block arrow')
  .node('co')
  .at(140, 460)
  .callout(120, 60, { rx: 8 })
  .fill('#f9e2af')
  .label('callout')
  .node('coL')
  .at(350, 460)
  .callout(120, 60, { rx: 8, pointerSide: 'left' })
  .fill('#cba6f7')
  .label('callout (left)')
  .node('cld')
  .at(560, 460)
  .cloud(120, 70)
  .fill('#b4befe')
  .stroke('#585b70', 2)
  .label('cloud')
  .node('crs')
  .at(140, 570)
  .cross(50, 18)
  .fill('#a6e3a1')
  .label('cross')
  .node('cub')
  .at(350, 570)
  .cube(80, 60, 20)
  .fill('#89b4fa')
  .label('cube')
  .node('doc')
  .at(560, 570)
  .document(100, 70)
  .fill('#f9e2af')
  .label('document')
  .node('pth')
  .at(140, 680)
  .path('M 50,0 L 100,38 L 81,100 L 19,100 L 0,38 Z', 100, 100)
  .fill('#f5c2e7')
  .label('path (pentagon)')
  .done();

Learn the basics of creating scenes with VizCraft.

## The Builder API

VizCraft uses a fluent builder pattern to construct your scene. The entry point is the \`viz()\` function.

```typescript
import { viz } from 'vizcraft';

const builder = viz().view(800, 600); // Set viewBox
builder.node('a').at(100, 100).circle(24).done(); // Add a node
const scene = builder.build(); // Finalize scene
```

### View & Grid

You can define the canvas size with \`.view(w, h)\` and optionally set up a grid for easy positioning.

<CodePreview code={`
import { viz } from 'vizcraft';

const builder = viz().view(500, 300);

builder
.grid(5, 3, { x: 20, y: 20 }) // 5 cols, 3 rows, 20px padding
.node('n1').cell(0, 0).label('0,0').rect(60, 40)
.node('n2').cell(2, 1).label('2,1').circle(30)
.node('n3').cell(4, 2).label('4,2').diamond(60, 60).done();

const container = document.getElementById('viz-grid');
if (container) builder.mount(container);
`}>

  <VizMount
    builder={gridScene}
    style={{ height: '300px', width: '100%', border: '1px solid #ccc' }}
  />
</CodePreview>

## Nodes

Nodes are the primary entities in your graph. You can create them with \`.node(id)\`.

### Shapes

VizCraft supports thirteen built-in shapes plus a generic custom-path escape hatch:

- `.circle(r)` — circle with radius `r`
- `.rect(w, h, [rx])` — rectangle with optional corner radius
- `.diamond(w, h)` — diamond / rhombus
- `.cylinder(w, h, [arcHeight])` — cylinder (the standard database / data-store symbol). `arcHeight` controls the top ellipse arc height (defaults to ~15 % of `h`)
- `.hexagon(r, [orientation])` — regular hexagon with outer radius `r`. `orientation` is `'pointy'` (default, vertex at top) or `'flat'` (flat edge at top)
- `.ellipse(rx, ry)` — ellipse / oval with independent horizontal and vertical radii
- `.arc(r, startAngle, endAngle, [closed])` — arc / pie slice. Angles in degrees (0 = right, 90 = bottom). Defaults to a closed pie; pass `false` for an open arc
- `.blockArrow(length, bodyWidth, headWidth, headLength, [direction])` — thick directional arrow polygon. `direction` is `'right'` (default), `'left'`, `'up'`, or `'down'`
- `.callout(w, h, [opts])` — speech bubble / callout. A rounded rectangle body with a triangular pointer. Options: `rx` (corner radius), `pointerSide` (`'bottom'` default, `'top'`, `'left'`, `'right'`), `pointerHeight`, `pointerWidth`, `pointerPosition` (0–1, default 0.3)
- `.cloud(w, h)` — cloud / thought bubble. A bumpy outline built from cubic Bézier curves, sized to fit within the `w × h` bounding box. Commonly used for external systems, the internet, or cloud services
- `.cross(size, [barWidth])` — cross / plus sign. A 12-vertex polygon. `barWidth` defaults to ~33 % of `size`
- `.cube(w, h, [depth])` — 3D isometric cube / box. Three polygons (front face, top face, right face) with automatic shading for the 3D effect. `depth` (isometric projection offset) defaults to ~20 % of `w`
- `.document(w, h, [waveHeight])` — document (wavy bottom). The standard flowchart document symbol — a rectangle with a sine-wave-like curved bottom edge. `waveHeight` (the wave amplitude) defaults to ~10 % of `h`
- `.path(d, w, h)` — **custom SVG path** (escape hatch). Supply any SVG path data string as `d`; `w` and `h` define the bounding box used for anchor computation and label centering. The path is translated so the bounding box center aligns with the node position

<CodePreview code={`
import { viz } from 'vizcraft';

const builder = viz().view(700, 760);

builder
.node('circ').at(60, 80).circle(30).fill('#89b4fa').label('circle')
.node('rec').at(180, 80).rect(80, 50, 8).fill('#a6e3a1').label('rect')
.node('dia').at(310, 80).diamond(70, 70).fill('#f9e2af').label('diamond')
.node('cyl').at(450, 80).cylinder(80, 60).fill('#fab387').label('cylinder')
.node('hex').at(100, 210).hexagon(40).fill('#cba6f7').label('hexagon')
.node('hexf').at(240, 210).hexagon(40, 'flat').fill('#f5c2e7').label('hex (flat)')
.node('ell').at(410, 210).ellipse(65, 35).fill('#89dceb').label('ellipse')
.node('pie').at(140, 330).arc(40, 180, 360).fill('#f38ba8').label('arc (half)', { dy: 50 })
.node('quarter').at(320, 330).arc(40, 0, 90).fill('#fab387').label('arc (quarter)', { dy: 50 })
.node('open').at(510, 330).arc(40, 45, 315, false).fill('none').stroke('#a6e3a1', 3).label('arc (open)', { dy: 50 })
.node('ba').at(590, 210).blockArrow(90, 20, 40, 25).fill('#94e2d5').label('block arrow')
.node('co').at(140, 460).callout(120, 60, { rx: 8 }).fill('#f9e2af').label('callout')
.node('coL').at(350, 460).callout(120, 60, { rx: 8, pointerSide: 'left' }).fill('#cba6f7').label('callout (left)')
.node('cld').at(560, 460).cloud(120, 70).fill('#b4befe').stroke('#585b70', 2).label('cloud')
.node('crs').at(140, 570).cross(50, 18).fill('#a6e3a1').label('cross')
.node('cub').at(350, 570).cube(80, 60, 20).fill('#89b4fa').label('cube')
.node('doc').at(560, 570).document(100, 70).fill('#f9e2af').label('document')
.node('pth').at(140, 680).path('M 50,0 L 100,38 L 81,100 L 19,100 L 0,38 Z', 100, 100).fill('#f5c2e7').label('path (pentagon)')
.done();

const container = document.getElementById('viz-shapes');
if (container) builder.mount(container);
`}>

  <VizMount
    builder={shapesScene}
    style={{ height: '720px', width: '100%', border: '1px solid #ccc' }}
  />
</CodePreview>

### Positioning

- \`.at(x, y)\`: Absolute positioning.
- \`.cell(col, row, [align])\` Grid-based positioning (requires \`.grid()\`).

## Edges

Edges connect two nodes using \`.edge(fromId, toId)\`.
By default, edges stop at the node boundary. Use \`.connect('center')\` to draw center-to-center.

<CodePreview code={`
import { viz } from 'vizcraft';

const builder = viz().view(500, 200);

builder
.node('A')
.at(50, 100)
.circle(26)
.label('Start')
.node('B')
.at(450, 100)
.rect(80, 40)
.label('End')
.edge('A', 'B')
.arrow()
.label('Connects to')
.done();

const container = document.getElementById('viz-edges');
if (container) builder.mount(container);
`}>

  <VizMount builder={edgesScene} style={{ height: '200px', width: '100%' }} />
</CodePreview>

## Animations

For a full breakdown (registry/CSS animations, data-only timelines, playback controls, and live examples), see the dedicated guide:

- [Animations](./animations)
